var ScrollOut=function(){"use strict";function C(e,t,n){return e<t?t:n<e?n:e}function S(e){return(0<e)-(e<0)}var T,t={};function n(e){return"-"+e[0].toLowerCase()}function o(e){return t[e]||(t[e]=e.replace(/([A-Z])/g,n))}function a(e,t){return e&&0!==e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(t||document.documentElement).querySelectorAll(e)):[]}function d(e,t){for(var n in t)n.indexOf("_")&&e.setAttribute("data-"+o(n),t[n])}function v(i){return function(e,t){for(var n in t)n.indexOf("_")&&(!0===i||i[n])&&e.style.setProperty("--"+o(n),(r=t[n],Math.round(1e4*r)/1e4));var r}}var q=[];function e(){T=0,q.slice().forEach(function(e){return e()}),z()}function z(){!T&&q.length&&(T=requestAnimationFrame(e))}function F(e,t,n,r){return"function"==typeof e?e(t,n,r):e}function h(){}return function(E){var L,P,_,o=(E=E||{}).onChange||h,l=E.onHidden||h,c=E.onShown||h,s=E.onScroll||h,f=E.cssProps?v(E.cssProps):h,e=E.scrollingElement,H=e?a(e)[0]:window,A=e?a(e)[0]:document.documentElement,W=!1,x={},O=[];function t(){O=a(E.targets||"[data-scroll]",a(E.scope||A)[0]).map(function(e){return{element:e}})}function n(){var e=A.clientWidth,t=A.clientHeight,n=S(-L+(L=A.scrollLeft||window.pageXOffset)),r=S(-P+(P=A.scrollTop||window.pageYOffset)),i=A.scrollLeft/(A.scrollWidth-e||1),o=A.scrollTop/(A.scrollHeight-t||1);W=W||x.scrollDirX!==n||x.scrollDirY!==r||x.scrollPercentX!==i||x.scrollPercentY!==o,x.scrollDirX=n,x.scrollDirY=r,x.scrollPercentX=i,x.scrollPercentY=o;for(var l,c=!1,s=0;s<O.length;s++){for(var f=O[s],u=f.element,a=u,d=0,v=0;d+=a.offsetLeft,v+=a.offsetTop,a=a.offsetParent,a&&a!==H;);var h=u.clientHeight||u.offsetHeight||0,m=u.clientWidth||u.offsetWidth||0,g=(C(d+m,L,L+e)-C(d,L,L+e))/m,p=(C(v+h,P,P+t)-C(v,P,P+t))/h,w=1==g?0:S(d-L),X=1==p?0:S(v-P),Y=C((L-(m/2+d-e/2))/(e/2),-1,1),b=C((P-(h/2+v-t/2))/(t/2),-1,1),D=void 0,D=E.offset?F(E.offset,u,f,A)<=P?1:0:(F(E.threshold,u,f,A)||0)<g*p?1:0,u=f.visible!==D;(f._changed||u||f.visibleX!==g||f.visibleY!==p||f.index!==s||f.elementHeight!==h||f.elementWidth!==m||f.offsetX!==d||f.offsetY!==v||f.intersectX!=f.intersectX||f.intersectY!=f.intersectY||f.viewportX!==Y||f.viewportY!==b)&&(c=!0,f._changed=!0,f._visibleChanged=u,f.visible=D,f.elementHeight=h,f.elementWidth=m,f.index=s,f.offsetX=d,f.offsetY=v,f.visibleX=g,f.visibleY=p,f.intersectX=w,f.intersectY=X,f.viewportX=Y,f.viewportY=b,f.visible=D)}_||!W&&!c||(l=y,q.push(l),z(),_=function(){!(q=q.filter(function(e){return e!==l})).length&&T&&(cancelAnimationFrame(T),T=0)})}function y(){u(),W&&(W=!1,d(A,{scrollDirX:x.scrollDirX,scrollDirY:x.scrollDirY}),f(A,x),s(A,x,O));for(var e=O.length-1;-1<e;e--){var t=O[e],n=t.element,r=t.visible,i=n.hasAttribute("scrollout-once")||!1;t._changed&&(t._changed=!1,f(n,t)),t._visibleChanged&&(d(n,{scroll:r?"in":"out"}),o(n,t,A),(r?c:l)(n,t,A)),r&&(E.once||i)&&O.splice(e,1)}}function u(){_&&(_(),_=void 0)}function r(){i=i||setTimeout(function(){i=0,n()},0)}t(),n(),y();var i=0;return window.addEventListener("resize",r),H.addEventListener("scroll",r),{index:t,update:n,teardown:function(){u(),window.removeEventListener("resize",r),H.removeEventListener("scroll",r)}}}}();